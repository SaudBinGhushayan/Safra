import * as _supabase_supabase_js_dist_module_lib_types from '@supabase/supabase-js/dist/module/lib/types';
import { NextMiddleware } from 'next/server';
import { CookieOptions } from '@supabase/auth-helpers-shared';
import { User, SupabaseClient } from '@supabase/supabase-js';

declare const withMiddlewareAuth: <Database = any, SchemaName extends string & keyof Database = "public" extends keyof Database ? "public" : string & keyof Database>(options?: {
    /**
     * Path relative to the site root to redirect an
     * unauthenticated visitor.
     *
     * The original request route will be appended via
     * a `redirectedFrom` query parameter, ex: `?redirectedFrom=%2Fdashboard`
     */
    redirectTo?: string | undefined;
    cookieOptions?: CookieOptions | undefined;
    authGuard?: {
        isPermitted: (user: User, supabase: SupabaseClient<Database, SchemaName, Database[SchemaName] extends _supabase_supabase_js_dist_module_lib_types.GenericSchema ? Database[SchemaName] : any>) => Promise<boolean>;
        redirectTo: string;
    } | undefined;
}) => NextMiddleware;

export { withMiddlewareAuth as w };
